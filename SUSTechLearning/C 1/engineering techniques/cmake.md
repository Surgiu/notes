### 1. What is install
在 CMake 构建系统中，`install` 命令并不是 C++编译过程中的一个步骤，而是用来指定如何将构建的文件（如可执行文件、库文件、头文件等）安装到系统的标准位置或其他指定位置的指令。

CMake 是一个跨平台的自动化构建系统，它使用一个名为 `CMakeLists.txt` 的文件来配置项目的编译和安装过程。`install` 命令通常在 `CMakeLists.txt` 文件中定义，它告诉 CMake 在执行安装操作时应该复制哪些文件以及它们的目的地。

以下是 `install` 命令的一些常见用法：

1. **安装可执行文件**：
    ```cmake
    install(TARGETS my_executable DESTINATION /usr/local/bin)
    ```
    这条命令将名为 `my_executable` 的可执行文件安装到 `/usr/local/bin` 目录。

2. **安装库文件**：
    ```cmake
    install(TARGETS my_library DESTINATION /usr/local/lib)
    ```
    这条命令将名为 `my_library` 的库文件安装到 `/usr/local/lib` 目录。

3. **安装头文件**：
    ```cmake
    install(DIRECTORY include/ DESTINATION /usr/local/include)
    ```
    这条命令将 `include` 目录中的头文件安装到 `/usr/local/include` 目录。

4. **安装数据文件**：
    ```cmake
    install(FILES datafile.txt DESTINATION /usr/local/share/data)
    ```
    这条命令将 `datafile.txt` 文件安装到 `/usr/local/share/data` 目录。

`install` 命令定义了一种将构建产物部署到非构建目录的方式，这在软件分发和部署时非常有用。当用户运行 CMake 生成的安装命令（通常是 `make install` 或 `cmake --install`）时，CMake 会根据 `CMakeLists.txt` 中定义的规则执行文件的复制操作。

在软件安装的过程中，“安装”不仅仅是将可执行文件复制到目标系统中。虽然复制文件是安装过程中的一个基本步骤，但安装通常涉及更多的步骤和考虑因素。以下是安装过程中可能涉及的一些关键步骤：

1. **文件复制**：将可执行文件、库文件、配置文件、数据文件等复制到目标系统中的适当位置。

2. **设置权限**：为复制的文件设置适当的访问权限，确保程序可以被正确地执行，用户可以访问必要的数据。

3. **创建符号链接**：在某些情况下，可能会创建符号链接，以简化对可执行文件或库文件的引用。

4. **配置系统**：可能需要更新系统配置，如修改环境变量、系统路径、配置文件等，以确保软件可以正常运行。

5. **注册组件**：在某些操作系统中，可能需要向系统注册组件，例如在 Windows 系统中注册 DLL 文件。

6. **安装依赖**：安装软件所需的依赖库和运行时组件。

7. **创建快捷方式**：为了方便用户访问，可能会在桌面或开始菜单中创建程序的快捷方式。

8. **设置用户界面**：在图形用户界面（GUI）中，可能需要为应用程序配置图标、菜单项等。

9. **初始化数据库**：对于需要数据库支持的应用程序，可能需要初始化或迁移数据库。

10. **执行安装脚本**：运行自定义的安装脚本，以完成特定的安装任务。

11. **清理临时文件**：删除安装过程中产生的临时文件。

12. **验证安装**：检查安装是否成功，确保所有文件都已正确复制，并且没有错误。

13. **提供卸载支持**：安装程序可能还会设置卸载程序，以便用户可以方便地移除软件。

使用 CMake 的 `install` 命令时，它可以帮助自动化上述许多步骤，但实际的安装过程可能还需要额外的脚本或工具来处理特定于平台或应用程序的安装细节。

总的来说，安装是一个涉及多个步骤的过程，旨在确保软件在目标系统中正确配置和可用。复制文件是这个过程的一部分，但不是全部。

### Ament_cmake 总体流程
0. 确定版本信息 ```cmake_minimum_required ()
1. 确定功能包的名称 ```prject()```
2. 列出依赖 ```find_package()```
3. 确定最终的可执行文件 (可以是多个) ```add_execuatble()```
4. 把 3 中的可执行文件和 2 中的依赖链接到一起 ```ament_target_dependencies```
5. 把可执行文件安装到目标目录 ```install()```
