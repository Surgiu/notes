## 网络层的两种设计思路
- 1.网络层虚电路服务
- 2. 网络层数据报服务
	- 网络层不提供服务质量的承诺。即使分组可能出错、 丢失、重复、失序、无传送时限保障。
	- 采用这种设计思路的好处是：网络的造价大大降低，运行方式灵活，能够适应多种应用。
- 对比
	- ![[Pasted image 20241023173225.png]]
## 网际协议 IP
- IP 协议及配套协议总览
	- ![[Pasted image 20241023173959.png]]

## 如何把异构的网络连接起来
- 使用转发器（物理层）、网桥、交换机（数据链路层）
	- 本质：仅仅是把一个网络扩大了，仍然是一个网络
- 使用 IP 网
	- 当互联网上的主机进行通信时，就好像在一个网络上通信一样，看不 见互连的各具体的网络异构细节。
	- 间接交付和直接交付

## IP 地址及其表示
### 概念
#### IP 地址：
IP 地址就是给每个连接在互联网上的主机（或路由器）分配一个在全世界范围是唯一的 32 位的标识符。

#### IP 地址的编址方法：
- 分类的 IP 地址
- 子网的划分
- 构成超网

#### 分类 IP 地址
![[Pasted image 20241023175741.png]]
- 各类 IP 字段
	- ![[Pasted image 20241023175902.png]]
	- 点分十进制记法
	- IP 地址与硬件地址
		- 硬件地址（或物理地址）是数据链路层和物理层使 用的地址。
		- IP 地址是网络层和以上各层使用的地址，是一种逻辑地址（称 IP 地址是逻辑地址是因为 IP 地址是用软件实现的）。
		- IP 地址放在 IP 数据报的首部，而硬件地址则放在 MAC 帧的首部。

## 划分子网
### 题目
根据 IP 和子网掩码求网络地址
![[Pasted image 20241030164442.png]]

划分子网情况下路由器分组转发算法
![[Pasted image 20241030164718.png]]

## 路由选择协议
- 两大类路由选择协议
	- 内部网关协议（IGP）：
		- 在一个自治系统内部使用的路由选择协议。
		- 目前这类路由选择协议使用得最多，如 RIP 和 OSPF 协议。
	- 外部网关协议（EGP）：
		- 若源站和目的站处在不同的自治系统中，当数据报 传到一个自治系统的边界时，就需要使用一种协议 将路由选择信息传递到另一个自治系统中。这样的 协议就是外部网关协议 EGP。
		- 在外部网关协议中目前使用最多的是 BGP-4。

### RIP
RIP 是一种分布式的、基于距离向量的路由选择协议。
> [!note] 距离的定义：从一个路由器到直接连接的网络的距离定义为 1。
> 从一个路由器到非直接连接的网络的距离定义 为所经过的路由器数加 1。
> ![[Pasted image 20241030165844.png]]

RIP 允许一条路径最多只能包含 15 个路由器。“距离”的最大值为 16 时即相当于不可达。






