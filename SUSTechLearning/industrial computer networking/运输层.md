- 运输层的功能
	- 提供了主机**进程**之间端到端的**服务**
		- 服务：进程间的逻辑通信
	- 复用和分用
		- 在一台主机中经常有多个应用进程同时分别和另一台主机中的多个应用进程通信
		- 复用
			- 应用进程都可以通过运输层再传送到 IP 层
		- 分用
			- 运输层从 IP 层收到发送给应用进程的数据后，必须分别交付给指明的各应用进程。
- 范围
	- 只有位于网络**边缘部分**的主机的协议栈才有运输层
	- 网络核心部分中的路由器在转发分组时都只用到下三层的功能
- 和网络层区别
	- 网络层是为主机之间提供逻辑通信
	- 运输层为应用进程之间提供端到端的逻辑通信
- 两种运输协议
	- TCP
		- 提供面向连接的服务
		- 传送的数据单位协议是 TCP 报文段
		- TCP 不提供广播或多播服务
		- 由于 TCP 要提供可靠的、面向连接的运输服务，因此不可避免地增加了许多的开销
	- UDP
		- 提供无连接服务
		- 传送的数据单位协议是 UDP 报文或用户数据报
		- 支持单播、多播和广播
		- 对方的运输层在收到 UDP 报文后，不需要给出任何确认
		- 虽然 UDP **不提供可靠交付**，但在某些情况下 UDP 是一种最有效的工作方式
	- 典型应用
		- ![[Pasted image 20241113165918.png]]
## 运输层的端口
- 运行在计算机中的进程是用进程标识符来标志的。但运行在应用层的各种应用进程却不应当让计算机 操作系统指派它的进程标识符。这是因为在互联网 上使用的计算机的操作系统种类很多，而不同的操 作系统又使用不同格式的进程标识符。
	- 解决办法
		- 在运输层使用协议端口号 (protocol port number)，或 通常简称为端口 (port)。把端口设为通信的抽象终点。
- 软件端口
	- 协议栈层间的抽象的协议端口
	- 是应用层的各种协议进程与运输实体进行层间交互的地点
	- 不同系统实现端口的方法可以不同
- 硬件端口
	- 不同硬件设备进行交互的接口
## UDP
